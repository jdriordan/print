#! /bin/bash

LPR="ssh atom@143.239.221.57 lpr -o sides=two-sided-long-edge"

arxiv=()
files=()
for file; do
    if [[ $file = http://arxiv.org/pdf/*.pdf ]]; then
        arxiv+=("$file")
    else
        files+=("$file")
    fi
done

if [ ${#arxiv[@]} -gt 0 ]; then
    wget "${arxiv[@]}" --user-agent=Lynx -q --output-document=- | $LPR
fi

if [ ${#files[@]} -gt 0 ]; then
    $LPR < "${files[@]}"
fi
