#! /bin/bash

arxiv=()
files=()
for file; do
    if [[ $file = http://arxiv.org/pdf/*.pdf ]]; then
        arxiv+=("$file")
    else
        files+=("$file")
    fi
done

LPR="lpr -o sides=two-sided-long-edge"
GET="wget --user-agent=Lynx -q --output-document=-"
SSH="ssh atom@143.239.221.57"

if [ ${#arxiv[@]} -gt 0 ]; then
    $GET "${arxiv[@]}" | $SSH $LPR
fi

if [ ${#files[@]} -gt 0 ]; then
    $SSH $LPR < "${files[@]}"
fi
